<!DOCTYPE html>
<!--在这里导入thymeleaf-->
<html xmlns:th="http://www.thymeleaf.org">


	<html lang="en">
		<head>
			<meta charset="UTF-8">
			<title>Title</title>

			<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
			<link rel="stylesheet" href="css/demo1.css" />
			<link rel="stylesheet" href="css/alarm_record.css">
			<link rel="stylesheet" href="css/info_fixed_table.css" />
			<link rel="stylesheet" href="css/system_device.css" />
			<link rel="stylesheet" href="css/index.css"/>
			<!--进度条的css文件和js文件引入-->
			<link rel="stylesheet" href="style.css" />
			<link rel="stylesheet" href="layui/css/layui.css">
			<script src="layui/layui.js"></script>


			<script type="application/javascript" src="js/jquery.min.js"></script>
			<script type="application/javascript" src="bootstrap/js/bootstrap.min.js"></script>
			<script src="http://cdn.highcharts.com.cn/highcharts/highcharts.js"></script>
			<script src="laydate/laydate.js"></script>



			

		</head>
		<body>
			<nav class="navbar navbar-default" style="padding-right: 0px;">
				<div class="container-fluid">
					<div class="navbar-header">
						<a class="navbar-brand" href="#">绿建联中央空调</a>
					</div>

					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav navbar-right">
							<li>
								<a href="#" id="warn">
									<span class="glyphicon glyphicon-bell" style="font-size: 20px;z-index: 1"></span>
									<span class="badge">14</span>
								</a>
							</li>
							<li>
								<a href="#" id="msg">
									<span class="  glyphicon glyphicon-envelope" style="font-size: 20px;"></span>
									<span class="badge">14</span>
								</a>
							</li>

							<li>
								<a href="#" id="avatar_a">
									<img class="avatar_img" src="/imgs/01.jpg">
								</a>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">空山新雨
									<span class="caret"></span></a>
								<ul class="dropdown-menu">
									<li><a href="#">个人信息</a></li>
									<li><a href="#">修改密码</a></li>
									<li role="separator" class="divider"></li>
									<li><a href="#">退出登录</a></li>
								</ul>
							</li>
						</ul>

						<ul class="nav navbar-nav navbar-right" style="margin-right: 100px;">
							<ul class="nav navbar-nav navbar-right" style="margin-right: 100px;">
								<li><a href="index_camera.html">实时监控 <span class="sr-only">(current)</span></a></li>
								
								<li class="">
									<a href="history_line.html">数据查询</a>
								</li>
								<li class="active"><a href="device_artifical_check.html">设备管理</a>
								</li>
								<li class="">
									<a href="energy_table.html">能耗管理</a>
								</li>
								<li class="">
									<a href="alarm_history_record.html">告警管理</a>
								</li>
								
								<li class="">
									<a href="working_analyze.html">运营分析</a>
								
								</li>
								<li class="">
									<a href="system_device.html">系统管理</a>
								
								</li>
								<li><a href="#">监控画面</a></li>
							</ul>
						</ul>
					</div><!-- /.navbar-collapse -->
				</div><!-- /.container-fluid -->
			</nav>

			<div class="row" style="position: relative;margin-top: 15px;margin-right: 0px;">
				<div class="col-sm-2" style="padding-right: 0px;">
					<div class="panel-group" id="panelContainer">
						<div class="panel panel-default">
							<div id="header1" class="panel-heading" data-toggle="collapse" data-target="#sub1" data-parent="#panelContainer">
								<i class="glyphicon glyphicon-asterisk"></i>
								<a href="alarm_history_record.html">告警信息</a>
								<span class="glyphicon glyphicon-triangle-right pull-right"></span>
							</div>
							<div id="sub1" class="collapse panel-collapse">
								<div class="panel-body">
									<ul class="nav">
										<li>
											<a href="alarm_history_record.html">告警记录</a>
										</li>
										<li>
											<a href="alarm_thing_record.html">事件记录</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default">
							<div id="header2" class="panel-heading" data-toggle="collapse" data-target="" data-parent="#panelContainer">
								<i class="glyphicon glyphicon-asterisk"></i>
								<a href="alarm_statics.html">告警统计</a>
								<span class="glyphicon glyphicon-triangle-right pull-right"></span>
							</div>

						</div>
					</div>
				</div>
				<div class="col-sm-10">
					<div class="row">
						<div class="col-xs-12 col-sm-5 col-md-12 col-lg-5 col-xl-5 col-container">
							<div class="panel panel-default">
								<div class="panel-body">
									<div id="container1" height="250px"></div>
								</div>
							</div>

						</div>
						<div class="col-xs-12 col-sm-4 col-md-12 col-lg-3 col-xl-3 col-container">
							<div class="panel panel-default">
								<div class="panel-heading" style="color: #FFFFFF;">
									告警类别(个)
								</div>
								<div class="panel-body">
									<div>低水位告警<span>(11个)</span></div>
									<br />
									<div class="layui-progress layui-progress-big" style="width:250px;" lay-showpercent="true">
										<div class="layui-progress-bar" style="background-color: red;" lay-percent="70%"></div>
									</div>
									<br />
									<div>压力低压告警<span>(4个)</span></div>
									<br />
									<div class="layui-progress layui-progress-big" style="width:250px;" lay-showpercent="true">
										<div class="layui-progress-bar" style="background-color: #337ab7;" lay-percent="30%"></div>
									</div>
									<br />
									<div>高水位告警<span>(3个)</span></div>
									<br />
									<div class="layui-progress layui-progress-big" style="width:250px;" lay-showpercent="true">
										<div class="layui-progress-bar" style="background-color: #47475c;" lay-percent="30%"></div>
									</div>
								</div>
							</div>

						</div>
						<div class="col-xs-12 col-sm-4 col-md-12 col-lg-3 col-xl-3 col-container">
							<div class="panel panel-default">
								<div class="panel-heading">
									设备警告排名(个)
								</div>
								<div class="panel-body">
									<div>冷冻水补水箱液位<span>(14个)</span></div>
									<br />
									<div class="layui-progress layui-progress-big" style="width:250px;" lay-showpercent="true">
										<div class="layui-progress-bar" style="background-color: red;" lay-percent="70%"></div>
									</div>
									<br />
									<div>冷冻水供水压力<span>(6个)</span></div>
									<br />
									<div class="layui-progress layui-progress-big" style="width:250px;" lay-showpercent="true">
										<div class="layui-progress-bar" style="background-color: #337ab7;" lay-percent="30%"></div>
									</div>
								</div>
							</div>

						</div>
					</div>
					<div class="col-sm-12" style="margin-top: 5%;">
						<div id="container2"></div>
					</div>
				</div>
			</div>




			<script>
				$(function() {
					function initTableCheckbox() {
						var $thr = $('table thead tr');
						var $checkAllTh = $('<th><input type="checkbox" id="checkAll" name="checkAll" /></th>');
						/*将全选/反选复选框添加到表头最前，即增加一列*/
						$thr.prepend($checkAllTh);
						/*“全选/反选”复选框*/
						var $checkAll = $thr.find('input');
						$checkAll.click(function(event) {
							/*将所有行的选中状态设成全选框的选中状态*/
							$tbr.find('input').prop('checked', $(this).prop('checked'));
							/*并调整所有选中行的CSS样式*/
							if ($(this).prop('checked')) {
								$tbr.find('input').parent().parent().addClass('warning');
							} else {
								$tbr.find('input').parent().parent().removeClass('warning');
							}
							/*阻止向上冒泡，以防再次触发点击操作*/
							event.stopPropagation();
						});
						/*点击全选框所在单元格时也触发全选框的点击操作*/
						$checkAllTh.click(function() {
							$(this).find('input').click();
						});
						var $tbr = $('table tbody tr');
						var $checkItemTd = $('<td><input type="checkbox" name="checkItem" /></td>');
						/*每一行都在最前面插入一个选中复选框的单元格*/
						$tbr.prepend($checkItemTd);
						/*点击每一行的选中复选框时*/
						$tbr.find('input').click(function(event) {
							/*调整选中行的CSS样式*/
							$(this).parent().parent().toggleClass('warning');
							/*如果已经被选中行的行数等于表格的数据行数，将全选框设为选中状态，否则设为未选中状态*/
							$checkAll.prop('checked', $tbr.find('input:checked').length == $tbr.length ? true : false);
							/*阻止向上冒泡，以防再次触发点击操作*/
							event.stopPropagation();
						});
						/*点击每一行时也触发该行的选中操作*/
						$tbr.click(function() {
							$(this).find('input').click();
						});
					}
					initTableCheckbox();
				});

				var chart1 = null;
				$(function() {
					$('#container1').highcharts({
						chart1: {
							plotBackgroundColor: null,
							plotBorderWidth: null,
							plotShadow: false,
							spacing: [15, 0, 30, 0]
						},
						title: {
							floating: true,
							text: '告警总数(个)'
						},
						tooltip: {
							pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
						},
						plotOptions: {
							pie: {
								allowPointSelect: true,
								cursor: 'pointer',
								dataLabels: {
									enabled: true,
									format: '<b>{point.name}</b>: {point.percentage:.1f} %',
									style: {
										color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
									}
								},
								point: {
									events: {
										mouseOver: function(e) { // 鼠标滑过时动态更新标题
											// 标题更新函数，API 地址：https://api.hcharts.cn/highcharts#Chart.setTitle
											chart.setTitle({
												text: e.target.name + '\t' + e.target.y
											});
										}
										//, 
										// click: function(e) { // 同样的可以在点击事件里处理
										//     chart.setTitle({
										//         text: e.point.name+ '\t'+ e.point.y + ' %'
										//     });
										// }
									}
								},
							}
						},
						series: [{
							type: 'pie',
							innerSize: '80%',
							name: '警告数量',
							data: [{
									name: '严重警告',
									y: 73,
								},
								['一般警告', 8],

							]
						}]
					}, function(c) {
						// 环形图圆心
						var centerY = c.series[0].center[1],
							titleHeight = parseInt(c.title.styles.fontSize);
						c.setTitle({
							y: centerY + titleHeight / 2
						});
						chart = c;
					});
				});

				/**进度条*/
				layui.use('element', function() {
					var $ = layui.jquery,
						element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块

					//触发事件
					var active = {
						setPercent: function() {
							//设置50%进度
							element.progress('demo', '50%')
						},
						loading: function(othis) {
							var DISABLED = 'layui-btn-disabled';
							if (othis.hasClass(DISABLED)) return;

							//模拟loading
							var n = 0,
								timer = setInterval(function() {
									n = n + Math.random() * 10 | 0;
									if (n > 100) {
										n = 100;
										clearInterval(timer);
										othis.removeClass(DISABLED);
									}
									element.progress('demo', n + '%');
								}, 300 + Math.random() * 1000);

							othis.addClass(DISABLED);
						}
					};

					$('.site-demo-active').on('click', function() {
						var othis = $(this),
							type = $(this).data('type');
						active[type] ? active[type].call(this, othis) : '';
					});
				});


				var chart = Highcharts.chart('container2', {
					chart: {
						type: 'spline'
					},
					title: {
						text: '告警趋势(个)'
					},
					subtitle: {
						text: '2020-03-17--2020-03-18'
					},
					xAxis: {
						categories: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00',
							'18:00', '21:00', '00:00'
						]
					},
					yAxis: {
						title: {
							text: '个'
						},
						labels: {
							formatter: function() {
								return this.value + '个';
							}
						}
					},
					tooltip: {
						crosshairs: true,
						shared: true
					},
					plotOptions: {
						spline: {
							marker: {
								radius: 4,
								lineColor: '#666666',
								lineWidth: 1
							}
						}
					},
					series: [{
						name: '本月',
						data: [10.0, 12, 11, 14, 27, {
							y: 26.5,
						}, 27, 28, 26]
					}, {
						name: '上月',
						data: [7.0, 6.9, 9.5, 14.5, 25.2, {
							y: 26.5,
						}, 23.3, 18.3, 13.9]
					}]
				});
			</script>






		</body>
	</html>
